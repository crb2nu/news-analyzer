apiVersion: v1
kind: ConfigMap
metadata:
  name: news-analyzer-config
  namespace: news-analyzer
  labels:
    app: news-analyzer
data:
  # SmartProxy configuration
  SMARTPROXY_HOST: "us.smartproxy.com"
  
  # MinIO configuration (using internal service)
  MINIO_ENDPOINT: "minio-service.news-analyzer.svc.cluster.local"
  MINIO_BUCKET: "news-cache"
  
  # Database configuration
  DATABASE_HOST: "postgres-service"
  DATABASE_PORT: "5432"
  DATABASE_NAME: "news_analyzer"
  
  # Ntfy configuration (push notifications)
  NTFY_URL: "http://ntfy-service.news-analyzer.svc.cluster.local"
  NTFY_TOPIC: "news-digest"
  NTFY_ATTACH_FULL: "false"
  
  # Application settings
  LOG_LEVEL: "INFO"
  PROXY_ROTATION_ENABLED: "true"
  CACHE_RETENTION_DAYS: "7"
  SCRAPER_USER_AGENT: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
  NWS_USER_AGENT: "news-analyzer-osint/0.1 (k3s)"
  NWS_ZONES: "VAZ022,VAZ023,VAZ024,NCZ001,TNZ019"
  NWS_BBOX: "-82.8,36.5,-80.0,37.8"
  
  # OpenAI configuration
  # Point at the central alias so clusters/environments stay in sync.
  OPENAI_MODEL: "news-analyzer"
  OPENAI_MAX_TOKENS: "512"
  
  # Vector DB (Weaviate in k3s)
  WEAVIATE_URL: "http://weaviate.ai.svc.cluster.local:8080"
  QDRANT_URL: "http://192.168.50.176:6333"
  
  # Reddit API configuration (non-secret)
  REDDIT_USER_AGENT: "news-analyzer/0.1 (by u/localnewsbot)"
  # Curated SWVA subreddit seed list; override via env if needed
  REDDIT_SUBREDDITS: "AbingdonVA,BristolVA,BristolTN,Roanoke,Blacksburg,Christiansburg,Virginia,wythecounty"
